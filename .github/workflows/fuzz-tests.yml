name: Fuzz Tests

on:
  schedule:
    - cron: '0 0 * * *'  # Daily
  workflow_dispatch:

jobs:
  fuzz:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v6
        with:
          submodules: recursive
          
      - name: Install Foundry
        uses: foundry-rs/foundry-toolchain@v1
        
      - name: Run fuzz tests
        run: forge test --match-path test/fuzz/* --fuzz-runs 10000 -vv
        
      - name: Run invariant tests
        run: forge test --match-path test/invariant/* -vv
